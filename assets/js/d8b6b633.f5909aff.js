"use strict";(self.webpackChunkfydetab_wiki=self.webpackChunkfydetab_wiki||[]).push([[597],{9034:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>o});var s=i(4848),l=i(8453);const a={sidebar_position:4,id:"ArchLinux",title:"Arch Linux"},r=void 0,t={id:"os-release-board/ArchLinux",title:"Arch Linux",description:'A lightweight and flexible Linux distribution that tries to "Keep It Simple", for Fydetab Duo.',source:"@site/docs/os-release-board/4.Arch Linux.md",sourceDirName:"os-release-board",slug:"/os-release-board/ArchLinux",permalink:"/os-release-board/ArchLinux",draft:!1,unlisted:!1,editUrl:"https://github.com/FydeOS/fydetabduo-wiki/tree/main/docs/os-release-board/4.Arch Linux.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,id:"ArchLinux",title:"Arch Linux"},sidebar:"tutorialSidebar",previous:{title:"Debian",permalink:"/os-release-board/debian"},next:{title:"Ubuntu Touch",permalink:"/os-release-board/ubuntu_touch"}},d={},o=[{value:"Preview1",id:"preview1",level:2},{value:"Release note",id:"release-note",level:3},{value:"Download links",id:"download-links",level:3},{value:"\ud83d\udcda Tutorial: Installing KDE Plasma Desktop",id:"-tutorial-installing-kde-plasma-desktop",level:2},{value:"\ud83d\udd27 Flash Image Under Linux",id:"-flash-image-under-linux",level:3},{value:"\ud83c\udf10 Set Up Your Wi-Fi (WLAN0)",id:"-set-up-your-wi-fi-wlan0",level:3},{value:"\ud83e\udde9 Resize the Root Partition",id:"-resize-the-root-partition",level:3},{value:"\ud83d\udd04 Install Updates",id:"-install-updates",level:3},{value:"\ud83d\udda5\ufe0f Install KDE Plasma",id:"\ufe0f-install-kde-plasma",level:3},{value:"\ud83d\udcdd TODO",id:"-todo",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:'A lightweight and flexible Linux distribution that tries to "Keep It Simple", for Fydetab Duo.'}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"preview1",children:"Preview1"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Build:"})," preview1-20221219"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"release-note",children:"Release note"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Hightlight"}),"\nInitial release of Arch Linux port for Fydetab Duo.\nUseful things to note:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Default login credentials: ",(0,s.jsx)(n.code,{children:"alarm/root"}),": ",(0,s.jsx)(n.code,{children:"alarm"})]}),"\n",(0,s.jsxs)(n.li,{children:["Using ",(0,s.jsx)(n.a,{href:"https://wiki.archlinux.org/title/iwd",children:"iwd"})," to connect to the internet:"]}),"\n",(0,s.jsx)(n.li,{children:"This release of Arch Linux does not bundle with a default Desktop Environment, if you want one, you need to install it yourself"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Known issues"}),"\nIt's still in the early porting stage; the following features are still under development:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Desktop Environment UI is still software rendering, hardware acceleration is unavailable"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"download-links",children:"Download links"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://download.fydeos.io/fydetabduo/fydetab_duo-archlinux-update-20221219.img.xz",children:"Direct link"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://fydeos-my.sharepoint.cn/:u:/g/personal/fyde_fydeos_partner_onmschina_cn/EdVSYqlugmdCkhcRd0NUK5MB5e7yv2nhXpFsjJrErH2ElQ?e=34F1RR",children:"Mirror link"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"SHA256"}),": ",(0,s.jsx)(n.code,{children:"71b1cf3c6fa4aea650c877eb9fd91eaeb179b53562a534eebce69abe7766570a"})]}),"\n",(0,s.jsx)(n.h2,{id:"-tutorial-installing-kde-plasma-desktop",children:"\ud83d\udcda Tutorial: Installing KDE Plasma Desktop"}),"\n",(0,s.jsx)(n.p,{children:"This is an initial test installation guide for the Fydetab Duo. In this tutorial, we cover some basic steps to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Connect to Wi-Fi"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-flash-image-under-linux",children:"\ud83d\udd27 Flash Image Under Linux"}),"\n",(0,s.jsx)(n.p,{children:"Assuming:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The Fydetab Duo is connected and in loader mode (see ",(0,s.jsx)(n.a,{href:"https://wiki.fydetabduo.com/flashing_the_fydetab_duo",children:"Fydetab Duo Wiki"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"upgrade_tool"})," is located under ",(0,s.jsx)(n.code,{children:"./foundation-rk3588/rk3588-image-maker/Linux_Upgrade_Tool/upgrade_tool"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The SHA256 sum validated, extracted ",(0,s.jsx)(n.code,{children:"fydetab_duo-archlinux-update-20221219.img"})," image is in the current folder:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo ./foundation-rk3588/rk3588-image-maker/Linux_Upgrade_Tool/upgrade_tool uf ./fydetab_duo-archlinux-update-20221219.img\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,s.jsx)(n.strong,{children:"Warning:"})," Serious neck stiffness possible as the tty is ",(0,s.jsx)(n.em,{children:"not"})," rotatable with:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo 3 > /sys/class/graphics/fbcon/rotate_all\n"})}),"\n",(0,s.jsx)(n.p,{children:"Login with:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Username: root\nPassword: alarm\n"})}),"\n",(0,s.jsx)(n.p,{children:"Double your tty font size:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"setfont -d\n"})}),"\n",(0,s.jsx)(n.h3,{id:"-set-up-your-wi-fi-wlan0",children:"\ud83c\udf10 Set Up Your Wi-Fi (WLAN0)"}),"\n",(0,s.jsxs)(n.p,{children:["Follow the instructions under ",(0,s.jsx)(n.a,{href:"https://wiki.archlinux.org/title/Iwd",children:"Arch Linux Wiki - Iwd"}),". Start by adding some required configuration details:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano /etc/iwd/main.conf\n"})}),"\n",(0,s.jsx)(n.p,{children:"Insert:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"[General]\nEnableNetworkConfiguration=true\n\n[Network]\nEnableIPv6=true\n"})}),"\n",(0,s.jsxs)(n.p,{children:["(If you don't have/want IPv6, set ",(0,s.jsx)(n.code,{children:"EnableIPv6=false"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"Enable the Iwd network service:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"systemctl enable --now iwd\n"})}),"\n",(0,s.jsx)(n.p,{children:"Edit the connection details with:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"iwctl\n"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["If you do not know your wireless device name, list all Wi-Fi devices:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[iwd]# device list\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["If the device or its corresponding adapter is turned off, turn it on:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[iwd]# device name set-property Powered on\n[iwd]# adapter adapter set-property Powered on\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Initiate a scan for networks (this command will not output anything):","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[iwd]# station name scan\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["List all available networks:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[iwd]# station name get-networks\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Connect to a network:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[iwd]# station name connect SSID\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Check if your wlan0 device now has an IP address:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ip --brief address show\n"})}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udca1 Hint: Now you should be able to access the device via SSH..."}),"\n",(0,s.jsx)(n.h3,{id:"-resize-the-root-partition",children:"\ud83e\udde9 Resize the Root Partition"}),"\n",(0,s.jsx)(n.p,{children:"In this tutorial, only one root partition is available and used, limited to 12 GB. Increase the size of the root partition to the available space (12 GB), as the image comes with only 2 GB of preconfigured available space:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"resize2fs /dev/mmcblk0p1\n"})}),"\n",(0,s.jsx)(n.h3,{id:"-install-updates",children:"\ud83d\udd04 Install Updates"}),"\n",(0,s.jsxs)(n.p,{children:["Adapt ",(0,s.jsx)(n.code,{children:"sources.list"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nano /etc/pacman.d/mirrorlist\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Select a fitting mirror near your location and update with the Arch package manager ",(0,s.jsx)(n.code,{children:"pacman"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pacman -Syyu\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Accept the defaults when prompted. During the update, kernel-related files may trigger warnings as they cannot be found and are likely ",(0,s.jsx)(n.em,{children:"not"})," part of the Arch installation (supplied via image, kernel 5.10 is installed)."]}),"\n",(0,s.jsx)(n.p,{children:"Check the kernel via:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"uname -a\n"})}),"\n",(0,s.jsx)(n.p,{children:"Expected output:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Linux alarm 5.10.110-fyde #145 SMP Mon Dec 19 07:00:43 UTC 2022 aarch64 GNU/Linux\n"})}),"\n",(0,s.jsx)(n.p,{children:"Reboot:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"shutdown -r 0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\ufe0f-install-kde-plasma",children:"\ud83d\udda5\ufe0f Install KDE Plasma"}),"\n",(0,s.jsxs)(n.p,{children:["Follow the instructions at ",(0,s.jsx)(n.a,{href:"https://wiki.archlinux.org/title/KDE",children:"Arch Linux Wiki - KDE"}),". As of July 2024, this will install Plasma 6.1."]}),"\n",(0,s.jsx)(n.p,{children:'Install KDE Plasma, display manager, KScreen for display adjustment, Bluetooth, and PackageKit for "Discover" software management integration:'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pacman -S sddm sddm-kcm kscreen bluez bluez-utils packagekit\n"})}),"\n",(0,s.jsx)(n.p,{children:"Start and enable SDDM and Bluetooth:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"systemctl enable --now sddm bluetooth\n"})}),"\n",(0,s.jsx)(n.p,{children:"A reboot may be required."}),"\n",(0,s.jsx)(n.p,{children:"You will now be greeted by the Plasma SDDM login screen (still rotated to the left). Currently, you have to select X11, as Wayland will only show a black screen."}),"\n",(0,s.jsxs)(n.p,{children:["Once logged in (initial password ",(0,s.jsx)(n.code,{children:"alarm"}),"), you can adjust the Plasma desktop settings to rotate."]}),"\n",(0,s.jsx)(n.p,{children:"Additional software can now be installed via Discover."}),"\n",(0,s.jsx)(n.h3,{id:"-todo",children:"\ud83d\udcdd TODO"}),"\n",(0,s.jsxs)(n.p,{children:["As this is a ",(0,s.jsx)(n.em,{children:"very limited"})," environment still, some tasks need to be done, both for the user and on the hardware support, which is limited by the shipped Linux kernel:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Partitioning: ",(0,s.jsx)(n.em,{children:"only"})," 2 GB root partition, resized to 12 GB. Additional partitioning required & files need moving."]}),"\n",(0,s.jsx)(n.li,{children:"Rotate tty & SDDM login screen."}),"\n",(0,s.jsx)(n.li,{children:"Replace Iwd."}),"\n",(0,s.jsx)(n.li,{children:"Preselect X11 for Plasma session - Wayland does not run yet."}),"\n",(0,s.jsx)(n.li,{children:"Hardware: Bluetooth & camera don't work -> kernel build + kernel modules for Bluetooth, but how?"}),"\n",(0,s.jsxs)(n.li,{children:["Hardware: Display is ",(0,s.jsx)(n.em,{children:"only software rendering supported"})," -> kernel build + kernel modules for display, but how?"]}),"\n",(0,s.jsx)(n.li,{children:"Hardware: Other hardware e.g., accelerometer, NPU ..."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var s=i(6540);const l={},a=s.createContext(l);function r(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);